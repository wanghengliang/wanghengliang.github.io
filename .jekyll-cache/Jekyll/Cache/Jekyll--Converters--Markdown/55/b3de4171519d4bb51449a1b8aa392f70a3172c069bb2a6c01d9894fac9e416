I"<p>Linux监测MySQL运行情况</p>

<p>有两种方式实现，直接上shell代码，新建shell文件mysqlMonitor.sh，将以下内容加入其中，设置定时任务执行此shell即可（具体代码暂未来得及测试，思路和原理已测试可行）</p>

<h3 id="第一种方式">第一种方式</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MYSQL_PING=`/usr/local/mysql/bin/mysqladmin -u root -p123123 ping`
MYSQL_OK="mysqld is alive"

if [[ "$MYSQL_PING" != "$MYSQL_OK" ]]
    then
        echo "mysql not ok"
        service mysqld restart
    else
        echo "mysql is ok"
fi
</code></pre></div></div>

<h3 id="第二种方式">第二种方式</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PORT="0"
PORT=`netstat -lnt | grep 3306 | wc -l `
echo $PORT
if [ $PORT -eq 1 ]
 then
echo "mysql is running"
else
echo "mysql is not running"
echo "progrome reeady to start mysql"

sudo service mysql start
./check_mysql.sh
fi
</code></pre></div></div>
:ET