I"v	<p>Linux防火墙设置</p>

<h3 id="centos-65">CentOS 6.5</h3>

<h4 id="查看防火墙的状态">查看防火墙的状态</h4>

<h4 id="查看已经开放的端口">查看已经开放的端口</h4>

<h4 id="开启端口">开启端口</h4>

<h4 id="启动防火墙">启动防火墙</h4>

<h4 id="关闭防火墙">关闭防火墙</h4>

<h4 id="重启防火墙">重启防火墙</h4>

<h3 id="centos-7">CentOS 7</h3>

<h4 id="查看防火墙的状态-1">查看防火墙的状态</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># firewall-cmd --state
</code></pre></div></div>

<h4 id="查看已经开放的端口-1">查看已经开放的端口</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>firewall-cmd --list-ports

firewall-cmd --list-all
</code></pre></div></div>

<h4 id="开启端口或服务">开启端口或服务</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>firewall-cmd --zone=public --add-port=80/tcp --permanent
firewall-cmd --zone=public --add-port=30000-30100/tcp --permanent
firewall-cmd --zone=public --add-service=smtp --permanent

firewall-cmd --permanent --add-rich-rule="rule family='ipv4' source address='192.168.142.166' port protocol='tcp' port="5432" accept"
firewall-cmd --permanent --zone=public --add-rich-rule="rule family='ipv4' source address='192.168.142.166' service name='ssh' accept"

</code></pre></div></div>
<h4 id="删除端口或服务">删除端口或服务</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>firewall-cmd --zone=public --remove-port=80/tcp --permanent
firewall-cmd --zone=public --remove-service=smtp --permanent

</code></pre></div></div>
<h4 id="启动防火墙-1">启动防火墙</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

<h4 id="关闭防火墙-1">关闭防火墙</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl start firewalld.service #启动firewall
systemctl stop firewalld.service #停止firewall
systemctl disable firewalld.service #禁止firewall开机启动
</code></pre></div></div>

<h4 id="重启防火墙-1">重启防火墙</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>firewall-cmd --reload
</code></pre></div></div>
:ET